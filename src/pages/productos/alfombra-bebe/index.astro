---
import Layout from '@layouts/Layout.astro';
import NotificationButtons from '@components/NotificationButtons.astro';

const producto = {
  nombre: 'Alfombra Bebé Acolchada Plegable',
  subtitulo: 'Dos mundos de aventuras en una sola alfombra',
  caras: {
    cara1: {
      titulo: 'Pueblo Costero',
      descripcion: 'Un tranquilo pueblo junto al mar donde las casitas de colores se reflejan en el agua cristalina. Barquitos pesqueros, gaviotas juguetonas y un faro que guía a los navegantes. Un lugar donde el tiempo se detiene y cada ola cuenta una historia.'
    },
    cara2: {
      titulo: 'Selva Tropical',
      descripcion: 'Una exuberante selva llena de vida y color. Tucanes de pico brillante, monos traviesos saltando entre lianas, mariposas de alas iridiscentes y flores exóticas que perfuman el aire. Un paraíso verde donde cada rincón esconde una nueva aventura.'
    }
  },
  variantes: [
    {
      id: 'compacta',
      nombre: 'Compacta',
      dimensiones: '150 × 180 cm',
      grosor: '1,5 cm',
      precio: 'Ver en Amazon',
      descripcion: 'Perfecta para espacios reducidos',
      imagen: '/products/baby-mat/shared/hero-alfombra.jpeg',
      url: '/productos/alfombra-bebe/150x180',
      destacado: false,
      caracteristicas: [
        'Ideal para apartamentos',
        'Fácil de guardar y transportar',
        'Perfecta para viajar'
      ],
      especificaciones: {
        peso: '2,5 kg',
        plegada: '50 × 60 × 15 cm',
        material: 'Espuma EPE + Funda PU'
      }
    },
    {
      id: 'xl',
      nombre: 'XL',
      dimensiones: '180 × 200 cm',
      grosor: '1,5 cm',
      precio: 'Ver en Amazon',
      descripcion: 'Máximo espacio para jugar',
      imagen: '/products/baby-mat/shared/hero-alfombra.jpeg',
      url: '/productos/alfombra-bebe/180x200',
      destacado: true,
      caracteristicas: [
        'Espacio extra para jugar',
        'Ideal para casas amplias',
        'Crece con tu bebé'
      ],
      especificaciones: {
        peso: '3,2 kg',
        plegada: '60 × 67 × 15 cm',
        material: 'Espuma EPE + Funda PU'
      }
    }
  ]
};
---

<Layout
  title={`${producto.nombre} | ELEMATT`}
  description="Alfombra bebé acolchada plegable. Disponible en 2 tamaños: Compacta 150×180 cm y XL 180×200 cm. Ilustraciones exclusivas en acuarela, reversible, impermeable. Incluye 20 tarjetas sensoriales."
  image="/products/baby-mat/shared/hero-alfombra.jpeg"
  keywords="alfombra bebé, alfombra plegable, alfombra acolchada, alfombra reversible, ELEMATT"
  type="product"
>
  <!-- Hero Minimalista -->
  <section class="hero-producto">
    <div class="container-hero">
      <h1 class="producto-titulo">{producto.nombre}</h1>
      <p class="producto-subtitulo">{producto.subtitulo}</p>
    </div>
  </section>

  <!-- Dos Caras de la Alfombra -->
  <section class="caras-alfombra">
    <div class="container-caras">
      <div class="caras-grid">
        <!-- Cara 1: Pueblo Costero -->
        <div class="cara-card">
          <div class="cara-numero">01</div>
          <h2 class="cara-titulo">{producto.caras.cara1.titulo}</h2>
          <p class="cara-descripcion">{producto.caras.cara1.descripcion}</p>
        </div>

        <!-- Cara 2: Selva Tropical -->
        <div class="cara-card">
          <div class="cara-numero">02</div>
          <h2 class="cara-titulo">{producto.caras.cara2.titulo}</h2>
          <p class="cara-descripcion">{producto.caras.cara2.descripcion}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Selector de Variantes -->
  <section class="variantes-selector" id="variantes">
    <div class="container-variantes">
      <div class="variantes-header">
        <h2 class="variantes-titulo">Elige tu tamaño</h2>
        <p class="variantes-subtitulo">Dos opciones diseñadas para adaptarse a tu espacio</p>
      </div>

      <div class="variantes-grid">
        {producto.variantes.map((variante) => (
          <a href={variante.url} class={`variante-card ${variante.destacado ? 'destacado' : ''}`}>
            {variante.destacado && (
              <div class="badge-destacado">
                <span>Más Popular</span>
              </div>
            )}

            <div class="variante-imagen">
              <img
                src={variante.imagen}
                alt={`${producto.nombre} ${variante.nombre}`}
                loading="lazy"
              />
            </div>

            <div class="variante-contenido">
              <div class="variante-header">
                <h3 class="variante-nombre">{variante.nombre}</h3>
                <div class="variante-dimensiones">
                  <span class="dimension-principal">{variante.dimensiones}</span>
                  <span class="dimension-grosor">Grosor: {variante.grosor}</span>
                </div>
              </div>

              <p class="variante-descripcion">{variante.descripcion}</p>

              <div class="variante-specs">
                <div class="spec-item">
                  <svg class="spec-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                  </svg>
                  <span>Plegada: {variante.especificaciones.plegada}</span>
                </div>
                <div class="spec-item">
                  <svg class="spec-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"/>
                  </svg>
                  <span>Peso: {variante.especificaciones.peso}</span>
                </div>
              </div>

              <div class="variante-cta">
                <span class="cta-text">Ver Detalles</span>
                <svg class="cta-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                </svg>
              </div>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Botones de Notificación (Fijos en la esquina) -->
  <NotificationButtons
    productId="alfombra-bebe"
    productName="Alfombra Bebé Acolchada Plegable"
    position="fixed"
  />

</Layout>

<style>
  /* ===== HERO PRODUCTO ===== */
  .hero-producto {
    background: linear-gradient(135deg, var(--color-lino) 0%, var(--color-perla) 100%);
    padding: 6rem 0 4rem;
    text-align: center;
  }

  .container-hero {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  .producto-titulo {
    font-family: var(--font-primary);
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 700;
    color: var(--color-gris-oscuro);
    margin-bottom: 1.5rem;
    line-height: 1.2;
  }

  .producto-subtitulo {
    font-family: var(--font-secondary);
    font-size: clamp(1.1rem, 2vw, 1.5rem);
    color: var(--color-salvia-dark);
    font-weight: 400;
    letter-spacing: 0.5px;
  }

  /* ===== CARAS DE LA ALFOMBRA ===== */
  .caras-alfombra {
    background-color: white;
    padding: 5rem 0;
  }

  .container-caras {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  .caras-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 3rem;
  }

  .cara-card {
    position: relative;
    padding: 3rem 2.5rem;
    background: linear-gradient(135deg, var(--color-lino) 0%, white 100%);
    border-radius: 1.5rem;
    border: 1px solid rgba(168, 181, 160, 0.2);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .cara-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    border-color: var(--color-salvia-dark);
  }

  .cara-numero {
    font-family: var(--font-primary);
    font-size: 3.5rem;
    font-weight: 700;
    color: var(--color-salvia);
    opacity: 0.3;
    line-height: 1;
    margin-bottom: 1rem;
  }

  .cara-titulo {
    font-family: var(--font-primary);
    font-size: 2rem;
    font-weight: 700;
    color: var(--color-gris-oscuro);
    margin-bottom: 1.5rem;
    line-height: 1.3;
  }

  .cara-descripcion {
    font-family: var(--font-secondary);
    font-size: 1.05rem;
    line-height: 1.8;
    color: #555;
  }

  /* ===== SELECTOR DE VARIANTES ===== */
  .variantes-selector {
    background-color: var(--color-perla);
    padding: 5rem 0;
  }

  .container-variantes {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  .variantes-header {
    text-align: center;
    margin-bottom: 4rem;
  }

  .variantes-titulo {
    font-family: var(--font-primary);
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 700;
    color: var(--color-gris-oscuro);
    margin-bottom: 1rem;
  }

  .variantes-subtitulo {
    font-family: var(--font-secondary);
    font-size: 1.2rem;
    color: #666;
  }

  .variantes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 2.5rem;
  }

  .variante-card {
    position: relative;
    background: white;
    border-radius: 1.5rem;
    overflow: hidden;
    text-decoration: none;
    color: inherit;
    display: flex;
    flex-direction: column;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    border: 2px solid transparent;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  }

  .variante-card:hover {
    transform: translateY(-12px);
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
    border-color: var(--color-salvia-dark);
  }

  .variante-card.destacado {
    border-color: var(--color-melon-dark);
  }

  .badge-destacado {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    background: linear-gradient(135deg, var(--color-melon-dark), var(--color-melon));
    color: white;
    padding: 0.5rem 1.25rem;
    border-radius: 2rem;
    font-family: var(--font-primary);
    font-size: 0.85rem;
    font-weight: 600;
    z-index: 10;
    box-shadow: 0 4px 12px rgba(212, 134, 111, 0.4);
  }

  .variante-imagen {
    width: 100%;
    height: 280px;
    overflow: hidden;
    background-color: var(--color-lino);
  }

  .variante-imagen img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .variante-card:hover .variante-imagen img {
    transform: scale(1.08);
  }

  .variante-contenido {
    padding: 2rem;
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  .variante-header {
    margin-bottom: 1.5rem;
  }

  .variante-nombre {
    font-family: var(--font-primary);
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--color-gris-oscuro);
    margin-bottom: 0.75rem;
  }

  .variante-dimensiones {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .dimension-principal {
    font-family: var(--font-primary);
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--color-melon-dark);
  }

  .dimension-grosor {
    font-family: var(--font-secondary);
    font-size: 0.95rem;
    color: #777;
  }

  .variante-descripcion {
    font-family: var(--font-secondary);
    font-size: 1.05rem;
    line-height: 1.6;
    color: #555;
    margin-bottom: 1.5rem;
  }

  .variante-specs {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-bottom: 2rem;
    padding: 1.25rem;
    background-color: var(--color-lino);
    border-radius: 0.75rem;
  }

  .spec-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-family: var(--font-secondary);
    font-size: 0.95rem;
    color: #555;
  }

  .spec-icon {
    width: 20px;
    height: 20px;
    color: var(--color-salvia-dark);
    flex-shrink: 0;
    stroke-width: 2;
  }

  .variante-cta {
    margin-top: auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.25rem 1.5rem;
    background: linear-gradient(135deg, var(--color-salvia-dark), var(--color-salvia));
    border-radius: 0.75rem;
    color: white;
    font-family: var(--font-primary);
    font-weight: 600;
    font-size: 1.05rem;
    transition: all 0.3s ease;
  }

  .variante-card:hover .variante-cta {
    background: linear-gradient(135deg, var(--color-salvia), var(--color-salvia-dark));
    transform: translateX(4px);
  }

  .cta-arrow {
    width: 24px;
    height: 24px;
    stroke-width: 2.5;
    transition: transform 0.3s ease;
  }

  .variante-card:hover .cta-arrow {
    transform: translateX(6px);
  }

  /* ===== RESPONSIVE ===== */
  @media (max-width: 768px) {
    .hero-producto {
      padding: 4rem 0 3rem;
    }

    .caras-alfombra {
      padding: 3rem 0;
    }

    .caras-grid {
      gap: 2rem;
    }

    .cara-card {
      padding: 2rem 1.5rem;
    }

    .variantes-selector {
      padding: 3rem 0;
    }

    .variantes-header {
      margin-bottom: 2.5rem;
    }

    .variantes-grid {
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    .variante-imagen {
      height: 220px;
    }

    .badge-destacado {
      top: 1rem;
      right: 1rem;
      font-size: 0.8rem;
      padding: 0.4rem 1rem;
    }
  }
</style>

